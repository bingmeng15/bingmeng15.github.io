---
title: 添加和风天气插件
cover: 'https://tva3.sinaimg.cn/large/0075auPSgy1fqb3043jx5j31kw0npqv5.jpg'
categories: butterfly
abbrlink: c6db
date: 2022-12-10 15:24:55
tags: butterfly
---

## 注册和风天气

1. 注册网址：

{% link 和风天气,https://widget.qweather.com/create-simple, https://widget.qweather.com/assets/images/logo-s-dark.png %}

2. 插件名称随便写
3. **内容自定义**
4. 样式自行斟酌修改，根据自己到达博客情况进行修改（背景颜色最好是透明）
5. 生成代码

## 引入文件

{% note default simple %}新建`css`和`js`{% endnote %}


创建名为`weather.js`文件名，放入到`\themes\butterfly\source\js\`文件夹下。

把以下代码放入到`weanther.js`下

```
WIDGET = 
{ "CONFIG": { 
  "modules": "012", 
  "background": "5", 
  "tmpColor": "FFFFFF", 
  "tmpSize": "16", 
  "cityColor": "FFFFFF", 
  "citySize": "16", 
  "aqiColor": "FFFFFF", 
  "aqiSize": "16", 
  "weatherIconSize": "24", 
  "alertIconSize": "18", 
  "padding": "10px 10px 10px 10px", 
  "shadow": "0", "language": "auto", 
  "fixed": "false", "vertical": "top", 
  "horizontal": "left", 
  "key": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" 
} }
```
{% note red 'fas fa-fan' modern%}这个是我的样式，自行修改{% endnote %}

```
#和风天气
- <script async src="/js/weather.js"></script>
- <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
```

## 修改天气插件位置

+ 找到`\themes\butterfly\layout\includes\header\nav.pug`文件，在`nav.pug`增加`#he-plugin-simple`和`#none_space`两个代码（注意缩进）。

```
nav#nav
  span#blog_name
    a#site-name(href=url_for('/')) #[=config.title]

+  #he-plugin-simple
+  #none_space

  #menus
```

+ 找到`\themes\butterfly\source\css_layout\head.styl`，修改`head.styl`文件，把`#blog_name`替换为`#none_space`(CTRL+F搜索，这里就不截图了，大约在256行那里)。


保存，然后三连



